# telegram-intro-bot (Railway)

Бот має 2 блоки логіки:

1. Лічка:
- ловить `KEYWORDS`
- відповідає `REPLY_TEXT`
- бере наступне повідомлення як представлення
- пробує додати користувача в канал і публікує його представлення

2. Обговорення в каналі (команди з твоєї лічки):
- `/meeting` (або `/discuss`, `/збір`, `/обговорення`) — старт збору
- `/who` (або `/rsvp`, `/хто`) — показати скільки і хто прийде
- `/close <час>` (або `/закрити <час>`) — закрити збір і опублікувати фінал (тема/дата/місце/час + список)
- `/final <час>` (або `/підсумок <час>`) — те саме: закриває збір і публікує фінал
- `/help` (або `/команди`) — показати довідку по командах

## Як запускати збір з датою/місцем/текстом

Формат команди:
`/meeting <дата> | <місце> | <текст>`

Приклади:
- `/meeting сьогодні | Аркадія, 2 майданчик | волейбол`
- `/meeting завтра | центр, парк | гульки`
- `/meeting 24.02 19:00 | зал SkyFit | волейбол`
- `/close 19:30`

Після цього бот одразу публікує подію і відкриває голосування.

Команди треба писати в приват. Виконувати їх може будь-який користувач, який є адміном у `CHANNEL_ID`.

## Голосування користувачів

Голоси враховуються в чаті `CHANNEL_ID` після старту `/meeting`:
- `+`, `+1`, `йду`, `прийду`, `я за`, `я буду` = прийду
- `-`, `-1`, `не йду`, `не буду` = не прийду

Реплай на пост збору рекомендований, але просте повідомлення теж рахується.

Один користувач рахується тільки один раз (по `user_id`).

## Railway запуск

1. Деплой з GitHub репозиторію.
2. У `Variables` задай:
- `API_ID`
- `API_HASH`
- `SESSION_STRING`
- `CHANNEL_ID` (формат `-100...`)
- `KEYWORDS`
- `REPLY_TEXT`
- `PROCESS_ONCE=1`
- `TEST_USER_ID=0`
3. Додай volume:
- mount path `/data`
- `STATE_FILE=/data/state.json`
4. `Redeploy`.

## Важливо

- Якщо `CHANNEL_ID` не резолвиться або акаунт із `SESSION_STRING` не має доступу, бот не падає: просто відключає функції каналу.
- Для цього проєкту правильний ID групи: `-1003885190351`.
